<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programming Languages</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="container my-5">
        <h1 class="text-center mb-4">Programming Languages</h1>

        <div class="card shadow-sm">
            <div class="card-body">
                <!-- Form con select multipla per scegliere linguaggi di programmazione -->
                <form onsubmit="salva(this); return false" class="d-flex flex-column gap-3">
                    <select name="languages" id="languages" class="form-select" multiple></select>
                    <button type="submit" class="btn btn-primary align-self-center">Save</button>
                </form>

                <!-- Div per mostrare i linguaggi selezionati -->
                <div id="selected" class="mt-3"></div>
            </div>
        </div>
    </div>

    <script>
        // Lista di linguaggi di programmazione da mostrare nella select multipla
        const languages = ["javascript", "php", "java", "c++", "go"];
        const lang = document.getElementById('languages');

        // Popola la select con opzioni dinamicamente
        languages.forEach(language => {
            const option = document.createElement('option');
            option.value = language;     // Valore dell'opzione, usato nel form e nello script
            option.textContent = language; // Testo visibile all'utente
            lang.appendChild(option);   // Aggiunge l'opzione alla select
        });

        // Funzione chiamata al submit del form per mostrare i valori selezionati
        function salva(f) {
            // Ottiene tutte le opzioni selezionate e ne crea un array con i valori
            const selected = Array.from(f.languages.options)
                .filter(option => option.selected)
                .map(option => option.value);

            const div = document.getElementById('selected');
            div.innerHTML = ''; // Pulisce il contenuto precedente

            // Aggiunge uno span con badge per ogni linguaggio selezionato
            selected.forEach(lang => {
                const span = document.createElement('span');
                span.textContent = lang;
                span.className = 'badge bg-secondary me-1';
                div.appendChild(span);
            });
        }
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>

<!-- 
Breve spiegazione:
- Si crea una select multipla per scegliere più linguaggi di programmazione.
- Le opzioni vengono aggiunte dinamicamente usando JavaScript per facilitare la manutenzione.
- Al submit del form si intercetta l'evento, si raccoglie la lista di opzioni selezionate e si mostrano con badge sotto il form.
- La gestione avviene completamente lato client senza ricaricare la pagina.
- L'attributo multiple nella select permette di scegliere più opzioni tenendo premuti ctrl/cmd o shift.
- Questo esempio dimostra come usare selezioni multiple, array, manipolazione DOM e Bootstrap per l'interfaccia. -->